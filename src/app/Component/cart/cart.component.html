<section
  class="my-5 p-4 w-75 mx-auto shadow rounded bg-main-light"
  
>
  <h2>Shop Cart</h2>
  <p class="text-success">
    Total Price: {{ cartProducts.totalCartPrice | currency : "EGP " }}
  </p>

  <div
    class="row border-bottom py-2"
    *ngFor="let item of cartProducts.products"
  >
    <div class="col-md-2">
      <img
        [src]="item.product.imageCover"
        [alt]="item.product.title"
        class="w-100"
      />
    </div>
    <div
      class="col-md-10 d-flex align-self-center justify-content-between align-items-center"
    >
      <div class="div">
        <p class="my-1">{{ item.product.title }}</p>
        <span class="d-block text-success" style="font-size: 14px"
          >Price : {{ item.price | currency : "EGP" }}</span
        >
        <button
          class="btn text-success mx-0 px-0"
          (click)="removeProduct(item.product.id)"
        >
          <i class="fa-solid fa-trash-can"></i> Remove
        </button>
      </div>
      <div>
        <button #btn1 class="btn border-success btn-sm" (click)="changeCount(item.count - 1,item.product.id,btn1,btn2)">-</button>
        <span class="px-2">{{ item.count }}</span>
        <button #btn2 class="btn border-success btn-sm" (click)="changeCount(item.count + 1 ,item.product.id,btn1,btn2)">+</button>
      </div>
    </div>
  </div>
  <!-- Payment button -->
  <button class="btn btn-success my-3" [routerLink]="['/payment',cartProducts._id]">Online Payment <img src="./assets/images/images/visa-1.svg"/></button>
</section>

<!-- Loading -->
<ng-template #noProducts>
  <div class="my-4 p-4 w-75 mx-auto shadow rounded bg-main-light text-center">
    <p class="h3">Unfortunatly There is no Products here</p>
    <button class="btn btn-primary my-3" routerLink="/home">
      Show All Products
    </button>
  </div>
</ng-template>
